!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){AFRAME.registerComponent("ui-button",i(1)),AFRAME.registerComponent("ui-toggle",i(4)),AFRAME.registerComponent("ui-slider",i(3)),AFRAME.registerComponent("ui-rotary",i(2))},function(t,e){t.exports={schema:{size:{type:"number",default:.1},color:{type:"color",default:"#960960"},pressedColor:{type:"color",default:"#FC2907"},baseColor:{type:"color",default:"#618EFF"},topY:{type:"number",default:.02},pressedY:{type:"number",default:.012},base:{type:"array"},top:{type:"array"},pressed:{type:"array"}},multiple:!0,init:function(){var t=document.createElement("a-entity");this.data.top.length>0?t.setAttribute("mixin",this.data.top.join(" ")):(t.setAttribute("geometry",{primitive:"cylinder",radius:.1,height:.025,segmentsHeight:1}),t.setAttribute("position",{x:0,y:this.data.topY,z:0}),t.setAttribute("material",{color:this.data.color})),this.top=t,this.el.appendChild(t);var e=document.createElement("a-entity");this.data.base.length>0?e.setAttribute("mixin",this.data.base.join(" ")):(e.setAttribute("geometry",{primitive:"cone",radiusTop:.12,radiusBottom:.15,height:.02,segmentsHeight:1}),e.setAttribute("material",{color:this.data.baseColor})),this.el.appendChild(e);var i=document.querySelectorAll("a-entity[hand-controls]");this.controllers=Array.prototype.slice.call(i),this.pressed=!1,this.interval=null,this.lastTime=0},play:function(){var t=this.el;t.addEventListener("mousedown",this.onButtonDown.bind(this)),t.addEventListener("mouseup",this.onButtonUp.bind(this)),t.addEventListener("mouseleave",this.onMouseLeave.bind(this)),t.addEventListener("hit",this.onHit),t.addEventListener("touchdown",this.onButtonDown.bind(this)),t.addEventListener("touchup",this.onButtonUp.bind(this))},pause:function(){var t=this.el;t.removeEventListener("mousedown",this.onButtonDown.bind(this)),t.removeEventListener("mouseup",this.onButtonUp.bind(this)),t.removeEventListener("mouseleave",this.onButtonUp.bind(this)),t.removeEventListener("hit",this.onHit),t.removeEventListener("touchdown",this.onButtonDown.bind(this)),t.removeEventListener("touchup",this.onButtonUp.bind(this))},onButtonDown:function(){var t=this.top,e=this.el;if(this.data.top.length>0&&this.data.pressed.length>0){var i=this.data.top.join(" ")+" "+this.data.pressed.join(" ");t.setAttribute("mixin",i)}else t.setAttribute("position",{x:0,y:this.data.pressedY,z:0}),t.setAttribute("material",{color:this.data.pressedColor});this.pressed=!0,e.emit("buttondown")},resetButton:function(){var t=this.top;if(this.data.top.length>0){var e=this.data.top.join(" ");t.setAttribute("mixin",e)}else t.setAttribute("position",{x:0,y:this.data.topY,z:0}),t.setAttribute("material",{color:this.data.color})},onButtonUp:function(t){if(this.pressed){var e=this.el;this.resetButton(),this.pressed=!1,e.emit("buttonup"),e.emit("pressed")}},onMouseLeave:function(){this.pressed&&(this.resetButton(),this.pressed=!1)},onHit:function(t){var e=30;if(!this.pressed){this.pressed=!0,this.emit("touchdown");var i=this;this.interval=setInterval(function(){var t=performance.now()-i.lastTime;t>e&&(i.pressed=!1,i.lastTime=0,i.emit("touchup"),clearInterval(i.interval))},e)}this.lastTime=performance.now()},update:function(){this.el.setAttribute("cursor-listener","")},tick:function(){var t=this,e=this.top.getObject3D("mesh");if(!e)return void console.log("no mesh!");var i=(new THREE.Box3).setFromObject(e);this.controllers.forEach(function(e){var n=(new THREE.Box3).setFromObject(e.object3D),s=i.intersectsBox(n);s&&t.el.emit("hit")})}}},function(t,e){t.exports={schema:{},multiple:!0,init:function(){var t=new THREE.Mesh(new THREE.BoxGeometry(.02,.08,.06),new THREE.MeshLambertMaterial({color:16724787}));t.position.z=-.08,t.position.y=.02;var e=new THREE.Mesh(new THREE.CylinderGeometry(.1,.1,.1,20),new THREE.MeshLambertMaterial({color:6710886}));e.add(t),e.position.y=.025,this.knob=e;var i=new THREE.Mesh(new THREE.CylinderGeometry(.12,.15,.02,20),new THREE.MeshNormalMaterial);i.add(e),this.el.setObject3D("mesh",i),this.controllers=Array.prototype.slice.call(document.querySelectorAll("a-entity[hand-controls]"))},play:function(){this.grabbed=!1,this.controllers.forEach(function(t){t.addEventListener("triggerdown",this.onTriggerDown.bind(this)),t.addEventListener("triggerup",this.onTriggerUp.bind(this))}.bind(this))},pause:function(){this.controllers.forEach(function(t){t.removeEventListener("triggerdown",this.onTriggerDown.bind(this)),t.removeEventListener("triggerup",this.onTriggerUp.bind(this))}.bind(this))},onTriggerUp:function(){this.grabbed&&(this.grabbed.visible=!0,this.grabbed=!1)},onTriggerDown:function(t){var e=t.target.object3D,i=this.knob,n=(new THREE.Box3).setFromObject(e),s=(new THREE.Box3).setFromObject(i),o=n.intersectsBox(s);o&&(this.grabbed=e,this.grabbed.visible=!1)},tick:function(){if(this.grabbed){var t="z",e=this.grabbed.rotation[t],i=this.lastRotation?e-this.lastRotation:0;this.knob.rotation.y+=i,this.el.emit("change",{value:i*-1}),this.lastRotation=e}else this.lastRotation=0}}},function(t,e){t.exports={schema:{color:{type:"color",default:"#ffff00"},size:{type:"number",default:.5},min:{type:"number",default:0},max:{type:"number",default:1},value:{type:"number",default:0},innerSize:{type:"number",default:.9}},multiple:!0,init:function(){var t=new THREE.MeshLambertMaterial({color:this.data.color}),e=new THREE.Mesh(new THREE.BoxGeometry(.04,.05,.08),t),i=new THREE.Mesh(new THREE.BoxGeometry(this.data.size*this.data.innerSize,.021,.01),new THREE.MeshLambertMaterial({color:3355443})),n=new THREE.Mesh(new THREE.BoxGeometry(this.data.size,.02,.15),new THREE.MeshNormalMaterial);e.position.y=.025,this.lever=e,n.add(i),n.add(e),this.el.setObject3D("mesh",n),this.controllers=Array.prototype.slice.call(document.querySelectorAll("a-entity[hand-controls]")),this.setValue(this.data.value)},play:function(){this.grabbed=!1,this.el.addEventListener("rangeout",this.onTriggerUp.bind(this)),this.controllers.forEach(function(t){t.addEventListener("triggerdown",this.onTriggerDown.bind(this)),t.addEventListener("triggerup",this.onTriggerUp.bind(this))}.bind(this))},pause:function(){this.el.removeEventListener("rangeout",this.onTriggerUp.bind(this)),this.controllers.forEach(function(t){t.removeEventListener("triggerdown",this.onTriggerDown.bind(this)),t.removeEventListener("triggerup",this.onTriggerUp.bind(this))}.bind(this))},onTriggerDown:function(t){var e=t.target.object3D,i=this.lever,n=(new THREE.Box3).setFromObject(e),s=(new THREE.Box3).setFromObject(i),o=n.intersectsBox(s);o&&(this.grabbed=e,this.grabbed.visible=!1)},onTriggerUp:function(){this.grabbed&&(this.grabbed.visible=!0,this.grabbed=!1)},setValue:function(t){var e=this.lever;t<this.data.min?t=this.data.min:t>this.data.max&&(t=this.data.max);var i=this.data.size*this.data.innerSize;e.position.x=t/this.data.max*i-i/2},tick:function(){if(this.grabbed){var t=this.grabbed,e=this.lever,i=this.data.size,n=i*this.data.innerSize/2,s=(new THREE.Vector3).setFromMatrixPosition(t.matrixWorld);e.parent.worldToLocal(s),e.position.x=s.x,Math.abs(e.position.x)>i/2&&(e.position.x=n*Math.sign(e.position.x),this.el.emit("rangeout"));var o=(e.position.x+n)*(this.data.max/(i*this.data.innerSize))+this.data.min;this.value!==o&&(this.el.emit("change",{value:o}),this.value=o)}},update:function(t){this.data.value!==t.value&&this.setValue(this.data.value)}}},function(t,e){t.exports={schema:{value:{type:"int",default:0}},multiple:!0,init:function(){var t=new THREE.Mesh(new THREE.CylinderGeometry(.04,.03,.1,15),new THREE.MeshLambertMaterial({color:16776960})),e=new THREE.Mesh(new THREE.BoxGeometry(.07,.021,.2),new THREE.MeshLambertMaterial({color:3355443})),i=new THREE.Mesh(new THREE.BoxGeometry(.15,.02,.25),new THREE.MeshNormalMaterial);t.position.y=.05,this.lever=t,i.add(e),i.add(t),this.el.setObject3D("mesh",i),this.value=this.data.value,this.controllers=Array.prototype.slice.call(document.querySelectorAll("a-entity[hand-controls]")),this.setValue(this.data.value)},play:function(){this.grabbed=!1,this.el.addEventListener("rangeout",this.onTriggerUp.bind(this)),this.controllers.forEach(function(t){t.addEventListener("triggerdown",this.onTriggerDown.bind(this)),t.addEventListener("triggerup",this.onTriggerUp.bind(this))}.bind(this)),this.el.addEventListener("click",this.toggleValue.bind(this))},pause:function(){this.el.removeEventListener("rangeout",this.onTriggerUp.bind(this)),this.controllers.forEach(function(t){t.removeEventListener("triggerdown",this.onTriggerDown.bind(this)),t.removeEventListener("triggerup",this.onTriggerUp.bind(this))}.bind(this)),this.el.removeEventListener("click",this.toggleValue.bind(this))},onTriggerDown:function(t){var e=t.target.object3D,i=this.lever,n=(new THREE.Box3).setFromObject(e),s=(new THREE.Box3).setFromObject(i),o=n.intersectsBox(s);o&&(this.grabbed=e,this.grabbed.visible=!1)},onTriggerUp:function(){this.grabbed&&(this.grabbed.visible=!0,this.grabbed=!1)},setValue:function(t){this.lever.position.z=t?-.08:.08,this.value!==t&&(this.el.emit("change",{value:t}),this.value=t)},toggleValue:function(){var t=this.value?0:1;this.setValue(t)},tick:function(){var t="z",e=this.grabbed,i=this.lever;if(this.grabbed){var n=(new THREE.Vector3).setFromMatrixPosition(e.matrixWorld);i.parent.worldToLocal(n),i.position[t]=n[t],Math.abs(i.position[t])>.15&&this.el.emit("rangeout")}else Math.sign(i.position[t])===-1?this.setValue(1):this.setValue(0)},update:function(t){this.data.value!==t.value&&this.setValue(this.data.value)}}}]);